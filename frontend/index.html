<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Captioning - LSTM-CNN Demo</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üñºÔ∏è Image Captioning Application</h1>
            <p class="subtitle">T·ª± ƒë·ªông t·∫°o ch√∫ th√≠ch cho ·∫£nh v·ªõi m√¥ h√¨nh LSTM-CNN</p>
            <div class="tech-stack">
                <span class="badge">InceptionV3</span>
                <span class="badge">LSTM</span>
                <span class="badge">Beam Search (k=3)</span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Upload Section -->
            <section class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">üìÅ</div>
                    <h3>T·∫£i l√™n ·∫£nh c·ªßa b·∫°n</h3>
                    <p>K√©o th·∫£ ·∫£nh v√†o ƒë√¢y ho·∫∑c click ƒë·ªÉ ch·ªçn</p>
                    <input type="file" id="fileInput" accept="image/jpeg,image/png,image/jpg" hidden>
                    <button class="btn-upload" onclick="document.getElementById('fileInput').click()">
                        Ch·ªçn ·∫£nh
                    </button>
                    <p class="file-info">H·ªó tr·ª£: JPG, PNG (T·ªëi ƒëa 10MB)</p>
                </div>
            </section>

            <!-- Preview & Results Section -->
            <section class="results-section" id="resultsSection" style="display: none;">
                <div class="results-grid">
                    <!-- Image Preview -->
                    <div class="preview-card">
                        <h3>·∫¢nh ƒë·∫ßu v√†o</h3>
                        <div class="image-container">
                            <img id="previewImage" src="" alt="Preview">
                        </div>
                        <div class="image-info" id="imageInfo"></div>
                    </div>

                    <!-- Caption Results -->
                    <div class="caption-card">
                        <h3>Ch√∫ th√≠ch ƒë∆∞·ª£c t·∫°o</h3>
                        
                        <!-- Loading State -->
                        <div class="loading" id="loadingState" style="display: none;">
                            <div class="spinner"></div>
                            <p>ƒêang x·ª≠ l√Ω ·∫£nh...</p>
                            <p class="loading-steps" id="loadingSteps">
                                <span class="step">‚úì Ti·ªÅn x·ª≠ l√Ω ·∫£nh</span><br>
                                <span class="step">‚è≥ Tr√≠ch xu·∫•t ƒë·∫∑c tr∆∞ng...</span><br>
                                <span class="step">‚è≥ Sinh ch√∫ th√≠ch...</span>
                            </p>
                        </div>

                        <!-- Results -->
                        <div class="caption-results" id="captionResults" style="display: none;">
                            <!-- Main Caption -->
                            <div class="main-caption">
                                <div class="caption-icon">üí¨</div>
                                <p class="caption-text" id="mainCaption"></p>
                            </div>

                            <!-- Metadata -->
                            <div class="metadata">
                                <span class="meta-item">
                                    <strong>Ph∆∞∆°ng ph√°p:</strong> 
                                    <span id="method">Beam Search (k=3)</span>
                                </span>
                                <span class="meta-item">
                                    <strong>Th·ªùi gian:</strong> 
                                    <span id="inferenceTime">0s</span>
                                </span>
                            </div>

                            <!-- Alternative Captions (t·ª´ Beam Search) -->
                            <div class="alternative-captions" id="alternativeCaptions" style="display: none;">
                                <h4>C√°c ch√∫ th√≠ch kh√°c (Top 3):</h4>
                                <ul id="altCaptionsList"></ul>
                            </div>

                            <!-- Action Buttons -->
                            <div class="action-buttons">
                                <button class="btn-secondary" onclick="copyCaption()">
                                    üìã Sao ch√©p
                                </button>
                                <button class="btn-primary" onclick="resetApp()">
                                    üîÑ Th·ª≠ ·∫£nh kh√°c
                                </button>
                            </div>
                        </div>

                        <!-- Error State -->
                        <div class="error-state" id="errorState" style="display: none;">
                            <div class="error-icon">‚ö†Ô∏è</div>
                            <p id="errorMessage"></p>
                            <button class="btn-secondary" onclick="resetApp()">
                                Th·ª≠ l·∫°i
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Model Info Section -->
            <section class="info-section">
                <h3>üìä Th√¥ng tin h·ªá th·ªëng</h3>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>CNN Encoder</h4>
                        <p>InceptionV3 (299√ó299)</p>
                        <p class="info-detail">Tr√≠ch xu·∫•t ƒë·∫∑c tr∆∞ng ·∫£nh</p>
                    </div>
                    <div class="info-card">
                        <h4>LSTM Decoder</h4>
                        <p>512 units</p>
                        <p class="info-detail">Sinh chu·ªói ch√∫ th√≠ch</p>
                    </div>
                    <div class="info-card">
                        <h4>Beam Search</h4>
                        <p>k = 3</p>
                        <p class="info-detail">T·ªëi ∆∞u ch·∫•t l∆∞·ª£ng</p>
                    </div>
                    <div class="info-card">
                        <h4>Server Status</h4>
                        <p id="serverStatus">ƒêang ki·ªÉm tra...</p>
                        <p class="info-detail" id="serverDetail"></p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>üí° ƒê·ªì √°n m√¥n Python - ·ª®ng d·ª•ng m√¥ h√¨nh LSTM-CNN trong t·ª± ƒë·ªông t·∫°o ch√∫ th√≠ch cho ·∫£nh</p>
            <p class="footer-tech">Backend: FastAPI | Frontend: HTML/CSS/JS | Model: TensorFlow/Keras</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
